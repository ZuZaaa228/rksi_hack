<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="css/style.css">

	<title>Fast Reports</title>
</head>

<body>
	<div id="myDIV" class="header">
		<h2>Мои задачи</h2>
		<input type="text" id="myInput" placeholder="Название...">
		<span onclick="newElement()" class="addBtn">Добавить</span>
	</div>

	<ul id="myUL">
		<li>Др Ленки</li>
		<li class="checked">Сходить и узнать про воду</li>
		<li>Сотруднечество Эдельвейс</li>
		<li>Купить яйца</li>
		<li>Хакатон в Ринхе </li>
		<li>Оплатить аренду</li>
	</ul>
	<script>// Создайте кнопку "Закрыть" и добавьте ее к каждому элементу списка
		var myNodelist = document.getElementsByTagName("LI");
		var i;
		for (i = 0; i < myNodelist.length; i++) {
			var span = document.createElement("SPAN");
			var txt = document.createTextNode("\u00D7");
			span.className = "close";
			span.appendChild(txt);
			myNodelist[i].appendChild(span);
		}

		// Нажмите на кнопку "Закрыть", чтобы скрыть текущий элемент списка
		var close = document.getElementsByClassName("close");
		var i;
		for (i = 0; i < close.length; i++) {
			close[i].onclick = function () {
				var div = this.parentElement;
				div.style.display = "none";
			}
		}

		// Добавить "checked" символ при нажатии на элемент списка
		var list = document.querySelector('ul');
		list.addEventListener('click', function (ev) {
			if (ev.target.tagName === 'LI') {
				ev.target.classList.toggle('checked');
			}
		}, false);

		// Создайте новый элемент списка при нажатии на кнопку "Добавить"
		function newElement() {
			var li = document.createElement("li");
			var inputValue = document.getElementById("myInput").value;
			var t = document.createTextNode(inputValue);
			li.appendChild(t);
			if (inputValue === '') {
				alert("Вы должны что-то написать!");
			} else {
				document.getElementById("myUL").appendChild(li);
			}
			document.getElementById("myInput").value = "";

			var span = document.createElement("SPAN");
			var txt = document.createTextNode("\u00D7");
			span.className = "close";
			span.appendChild(txt);
			li.appendChild(span);

			for (i = 0; i < close.length; i++) {
				close[i].onclick = function () {
					var div = this.parentElement;
					div.style.display = "none";
				}
			}
		}</script>
</body>

</html>